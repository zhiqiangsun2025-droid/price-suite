# 📁 项目文件说明

## 🎯 文件用途分类

### 服务器端（需要迁移到云服务器）
```
server/
├── app.py                    # Flask主程序（必需）
├── douyin_scraper_v2.py      # 抖音爬虫（必需）
├── ai_matcher.py             # AI匹配（必需）
├── web_auto_listing.py       # 网页自动上货（新增）
├── app_listing_api.py        # 上货API（新增）
├── admin_tool.py             # 管理工具
├── requirements.txt          # Python依赖
├── templates/                # Web界面模板
└── static/                   # 静态资源
```

### 客户端（已打包成EXE，不需要迁移）
```
client/
├── modern_client_ultimate.py # 唯一客户端文件
├── config_client.json        # 配置（打包时包含）
└── requirements_modern.txt   # 依赖清单
```

### 文档（参考用，不需要迁移）
```
docs/
├── README.md                 # 文档索引
├── 服务器迁移完整指南.md    # ← 迁移必读
├── 网页自动上货方案.md
├── RPA模块说明.md
└── archive/                  # 历史文档
```

### 脚本（工具，不需要迁移）
```
scripts/
├── windows/                  # Windows批处理脚本
├── linux/                    # Linux Shell脚本
└── README.md                 # 脚本说明
```

### RPA（已改为网页自动化，逻辑在server）
```
rpa/
└── （旧的桌面RPA代码，不再使用）
```

### CI/CD（GitHub Actions，不需要迁移）
```
.github/workflows/
└── build-simple.yml          # 自动打包工作流
```

---

## 🗑️ 已删除的无用文件

### 开发测试文件
- ✅ client/venv, client/__pycache__
- ✅ client/tests, client/tests_exe
- ✅ client/htmlcov, client/.coverage
- ✅ server/venv, server/.venv
- ✅ server/__pycache__, server/tmp

### 迁移工具
- ✅ win-migrate-lite/ (93MB)
- ✅ win-migrate-lite.zip

### 老版本文件
- ✅ 11个 modern_client_*.py 老版本
- ✅ 临时文档和报告

---

## 📦 部署包内容（仅34KB）

```
price-suite-server-20251024.tar.gz
└── price-suite-server-20251024/
    ├── server/              # 服务器代码
    ├── start.sh             # 启动脚本
    ├── stop.sh              # 停止脚本
    └── README.md            # 快速指南
```

---

## 🚀 迁移后的目录结构（服务器上）

```
/opt/price-suite-server-20251024/
├── server/
│   ├── app.py
│   ├── web_auto_listing.py    # 网页自动上货
│   ├── douyin_scraper_v2.py   # 抖音爬虫
│   ├── requirements.txt
│   ├── authorization.db       # 授权数据库（自动创建）
│   ├── access.log             # 访问日志（自动生成）
│   └── error.log              # 错误日志（自动生成）
├── start.sh
├── stop.sh
└── README.md
```

---

## 🔧 开发环境对比

| 维度 | 本地WSL开发 | 服务器远程开发 |
|------|------------|---------------|
| **代码编辑** | ✅ 快速 | ✅ 实时生效 |
| **测试** | ⚠️ 需要模拟服务器 | ✅ 真实环境 |
| **调试** | ⚠️ 本地环境 | ✅ 生产环境 |
| **部署** | 需要git push+pull | ✅ 直接生效 |
| **网络** | 不需要 | ✅ 需要SSH |

**推荐**：Cursor SSH远程开发（最佳体验）

---

## ⚠️ 重要提示

### 不要迁移的内容
- ❌ client/ 目录（已打包成EXE）
- ❌ docs/ 目录（仅文档）
- ❌ .github/ 目录（CI/CD配置）
- ❌ scripts/ 目录（本地工具）
- ❌ rpa/ 目录（已改为网页自动化）

### 必须迁移的内容
- ✅ server/ 目录（核心）
- ✅ start.sh 启动脚本
- ✅ stop.sh 停止脚本

### 服务器上自动生成的
- authorization.db（授权数据库）
- *.log（日志文件）
- screenshots/（Selenium截图）

---

## 🎯 迁移后的工作流

```
本地（WSL）:
  编写客户端代码
  ↓
  git push
  ↓
  GitHub Actions自动打包EXE
  ↓
  下载EXE分发给客户

服务器（云服务器）:
  SSH远程编辑服务器代码
  ↓
  保存自动生效
  或
  ./stop.sh && ./start.sh 重启
```

---

**迁移包已准备好**: `price-suite-server-20251024.tar.gz` (34KB)  
**开始迁移吧！** 🚀

