# ğŸš€ æœåŠ¡å™¨è¿ç§»å®Œæ•´æŒ‡å—

## ğŸ“¦ éƒ¨ç½²åŒ…ä¿¡æ¯

**æ–‡ä»¶**: `price-suite-server-20251024.tar.gz`  
**å¤§å°**: 36KB  
**åŒ…å«**: ä»…æœåŠ¡å™¨ç«¯å¿…éœ€æ–‡ä»¶ï¼ˆå·²ç²¾ç®€ï¼‰

---

## ğŸ¯ è¿ç§»æ­¥éª¤ï¼ˆ5æ­¥æå®šï¼‰

### ç¬¬1æ­¥ï¼šä¸Šä¼ éƒ¨ç½²åŒ…åˆ°æœåŠ¡å™¨

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œï¼ˆWSLæˆ–Linuxï¼‰
cd /home/user/projects/shopxo-master/apps/price-suite

scp price-suite-server-20251024.tar.gz root@ä½ çš„æœåŠ¡å™¨IP:/opt/
```

### ç¬¬2æ­¥ï¼šè§£å‹å¹¶é…ç½®

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# è§£å‹
cd /opt
tar -xzf price-suite-server-20251024.tar.gz
cd price-suite-server-20251024
```

### ç¬¬3æ­¥ï¼šå®‰è£…ç³»ç»Ÿä¾èµ–

```bash
# Ubuntu/Debianç³»ç»Ÿ
apt-get update
apt-get install -y python3 python3-pip

# å®‰è£…Chromeï¼ˆSeleniuméœ€è¦ï¼‰
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
apt-get install -y ./google-chrome-stable_current_amd64.deb

# å®‰è£…ChromeDriver
apt-get install -y chromium-chromedriver
```

### ç¬¬4æ­¥ï¼šå¯åŠ¨æœåŠ¡

```bash
# ä¸€é”®å¯åŠ¨
./start.sh

# éªŒè¯æœåŠ¡
curl http://localhost:5000/
```

### ç¬¬5æ­¥ï¼šé…ç½®é˜²ç«å¢™å’ŒåŸŸå

```bash
# å¼€æ”¾5000ç«¯å£
ufw allow 5000

# å¦‚æœç”¨å®å¡”é¢æ¿
# å®‰å…¨ â†’ é˜²ç«å¢™ â†’ æ·»åŠ è§„åˆ™ â†’ 5000ç«¯å£
```

---

## ğŸ”§ Cursorè¿œç¨‹å¼€å‘é…ç½®

### æ–¹å¼1ï¼šSSH Remote Developmentï¼ˆæ¨èï¼‰

**Cursoré…ç½®**ï¼š
1. å®‰è£…Remote-SSHæ‰©å±•
2. é…ç½®SSHè¿æ¥ï¼š
```
Host my-server
  HostName ä½ çš„æœåŠ¡å™¨IP
  User root
  Port 22
  IdentityFile ~/.ssh/id_rsa
```
3. Cursor â†’ å·¦ä¸‹è§’ â†’ Remote-SSH â†’ Connect to Host
4. é€‰æ‹© `my-server`
5. æ‰“å¼€ç›®å½•ï¼š`/opt/price-suite-server-20251024`

**ä¼˜åŠ¿**ï¼š
- âœ… ç›´æ¥åœ¨æœåŠ¡å™¨ç¼–è¾‘ä»£ç 
- âœ… å®æ—¶æµ‹è¯•
- âœ… æ— éœ€æ¥å›ä¼ è¾“

### æ–¹å¼2ï¼šGitåŒæ­¥å¼€å‘

**æœ¬åœ°å¼€å‘**ï¼š
```bash
# åœ¨WSL/Linuxå¼€å‘
cd /home/user/projects/shopxo-master/apps/price-suite
vim server/app.py

# æäº¤
git add server/
git commit -m "æ›´æ–°æœåŠ¡å™¨ä»£ç "
git push origin main
```

**æœåŠ¡å™¨åŒæ­¥**ï¼š
```bash
# åœ¨æœåŠ¡å™¨æ‰§è¡Œ
cd /opt/price-suite-server-20251024
git pull origin main

# é‡å¯æœåŠ¡
./stop.sh && ./start.sh
```

### æ–¹å¼3ï¼šSFTPè‡ªåŠ¨åŒæ­¥

**Cursoré…ç½®**ï¼š
```json
// .vscode/sftp.json
{
    "name": "My Server",
    "host": "ä½ çš„æœåŠ¡å™¨IP",
    "protocol": "sftp",
    "port": 22,
    "username": "root",
    "remotePath": "/opt/price-suite-server-20251024/server",
    "uploadOnSave": true,
    "ignore": [
        "**/__pycache__",
        "**/*.pyc",
        "**/.venv"
    ]
}
```

---

## ğŸ“‚ éƒ¨ç½²åŒ…å†…å®¹æ¸…å•

```
price-suite-server-20251024/
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ app.py                      # Flaskä¸»ç¨‹åº
â”‚   â”œâ”€â”€ douyin_scraper_v2.py        # æŠ–éŸ³çˆ¬è™«V2
â”‚   â”œâ”€â”€ douyin_scraper.py           # æŠ–éŸ³çˆ¬è™«V1
â”‚   â”œâ”€â”€ ai_matcher.py               # AIåŒ¹é…
â”‚   â”œâ”€â”€ admin_tool.py               # ç®¡ç†å·¥å…·
â”‚   â”œâ”€â”€ web_auto_listing.py         # ç½‘é¡µè‡ªåŠ¨ä¸Šè´§
â”‚   â”œâ”€â”€ app_listing_api.py          # ä¸Šè´§API
â”‚   â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–
â”‚   â”œâ”€â”€ templates/                  # HTMLæ¨¡æ¿
â”‚   â””â”€â”€ static/                     # é™æ€æ–‡ä»¶
â”œâ”€â”€ start.sh                        # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ stop.sh                         # åœæ­¢è„šæœ¬
â””â”€â”€ README.md                       # éƒ¨ç½²è¯´æ˜
```

---

## âš™ï¸ æœåŠ¡å™¨é…ç½®

### æ¨èé…ç½®
```
CPU: 2æ ¸+
å†…å­˜: 2GB+ï¼ˆSeleniuméœ€è¦å†…å­˜ï¼‰
ç¡¬ç›˜: 20GB+
ç³»ç»Ÿ: Ubuntu 20.04/22.04
```

### ç«¯å£ä½¿ç”¨
```
5000: Flaskä¸»æœåŠ¡
ï¼ˆå¯é€‰ï¼‰80/443: Nginxåå‘ä»£ç†
```

### ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
```bash
# åœ¨æœåŠ¡å™¨æ·»åŠ 
export PRICE_SUITE_SERVER_URL="http://your-domain.com:5000"
export ADMIN_PASSWORD="ä½ çš„ç®¡ç†å‘˜å¯†ç "
```

---

## ğŸŒ é…ç½®å®¢æˆ·ç«¯è¿æ¥æœåŠ¡å™¨

### æ–¹å¼1ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆå®¢æˆ·æ“ä½œï¼‰

å®¢æˆ·ä¸‹è½½EXEåï¼Œåœ¨åŒç›®å½•åˆ›å»º `config_client.json`ï¼š
```json
{
  "server_url": "http://ä½ çš„æœåŠ¡å™¨IP:5000"
}
```

### æ–¹å¼2ï¼šé‡æ–°æ‰“åŒ…ï¼ˆä½ æ“ä½œï¼‰

ä¿®æ”¹ `client/config_client.json` çš„é»˜è®¤æœåŠ¡å™¨åœ°å€ï¼š
```json
{
  "server_url": "http://ä½ çš„å®é™…æœåŠ¡å™¨IP:5000"
}
```

ç„¶åé‡æ–°æ‰“åŒ…EXEï¼Œå®¢æˆ·ä¸‹è½½åé»˜è®¤è¿æ¥ä½ çš„æœåŠ¡å™¨ã€‚

---

## ğŸ” å®‰å…¨å»ºè®®

### 1. ä½¿ç”¨Nginxåå‘ä»£ç†
```nginx
# /etc/nginx/sites-available/price-suite
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 2. é…ç½®HTTPSï¼ˆç”Ÿäº§å¿…é¡»ï¼‰
```bash
# ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦
apt-get install -y certbot python3-certbot-nginx
certbot --nginx -d your-domain.com
```

### 3. é™åˆ¶è®¿é—®ï¼ˆå¯é€‰ï¼‰
```python
# server/app.py
# æ·»åŠ IPç™½åå•éªŒè¯
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å¯åŠ¨åæ— æ³•è®¿é—®
```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
ps aux | grep python
netstat -tulpn | grep 5000

# æŸ¥çœ‹æ—¥å¿—
tail -f server/error.log
```

### Q2: Seleniumå¤±è´¥
```bash
# æ£€æŸ¥Chromeæ˜¯å¦å®‰è£…
google-chrome --version

# å®‰è£…ChromeDriver
pip3 install webdriver-manager
```

### Q3: æ•°æ®åº“æƒé™
```bash
# ç¡®ä¿æ•°æ®åº“æ–‡ä»¶å¯å†™
chmod 666 server/authorization.db
```

---

## ğŸ“Š è¿ç§»åéªŒè¯æ¸…å•

```
â–¡ æœåŠ¡å™¨å¯è®¿é—®ï¼ˆcurl http://IP:5000ï¼‰
â–¡ å®¢æˆ·ç«¯èƒ½è¿æ¥æœåŠ¡å™¨
â–¡ æŠ–éŸ³ç™»å½•åŠŸèƒ½æ­£å¸¸
â–¡ é€‰å“åŠŸèƒ½æ­£å¸¸
â–¡ ç½‘é¡µè‡ªåŠ¨ä¸Šè´§åŠŸèƒ½æ­£å¸¸
â–¡ æ—¥å¿—æ­£å¸¸è®°å½•
â–¡ æ•°æ®åº“æ­£å¸¸è¯»å†™
```

---

## ğŸ”„ åç»­å¼€å‘æµç¨‹

### Cursorè¿œç¨‹å¼€å‘ï¼ˆæ¨èï¼‰
```
1. Cursorè¿æ¥åˆ°æœåŠ¡å™¨ï¼ˆSSHï¼‰
2. ç›´æ¥ç¼–è¾‘æœåŠ¡å™¨ä¸Šçš„ä»£ç 
3. ä¿å­˜åè‡ªåŠ¨ç”Ÿæ•ˆ
4. å®æ—¶æŸ¥çœ‹æ—¥å¿—è°ƒè¯•
```

### GitåŒæ­¥å¼€å‘
```
1. æœ¬åœ°ä¿®æ”¹ â†’ git push
2. æœåŠ¡å™¨ â†’ git pull
3. é‡å¯æœåŠ¡ â†’ ./stop.sh && ./start.sh
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

éƒ¨ç½²é‡åˆ°é—®é¢˜å¯æŸ¥çœ‹ï¼š
- æœåŠ¡å™¨æ—¥å¿—ï¼š`server/error.log`
- Flaskæ—¥å¿—ï¼š`server/app.log`
- ç³»ç»Ÿæ—¥å¿—ï¼š`/var/log/syslog`

---

**ç°åœ¨å¯ä»¥å¼€å§‹è¿ç§»äº†ï¼** ğŸš€

