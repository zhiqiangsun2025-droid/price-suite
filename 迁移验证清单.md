# ✅ Price-Suite 迁移验证清单

## 使用说明

迁移完成后，按照此清单逐项验证，确保一切正常。

在每个 `[ ]` 中打勾 `[x]` 表示该项已验证通过。

---

## 📁 第一部分：文件系统检查

### 目录结构
```bash
cd /home/user/projects/price-suite
ls -la
```

- [ ] `server/` 目录存在
- [ ] `client/` 目录存在
- [ ] `rpa/` 目录存在
- [ ] `README.md` 文件存在
- [ ] `.git/` 目录存在
- [ ] `.gitignore` 文件存在

### 关键文件
```bash
ls -la server/
ls -la client/
ls -la rpa/
```

- [ ] `server/app.py` 存在
- [ ] `server/ai_matcher.py` 存在
- [ ] `server/requirements.txt` 存在
- [ ] `client/modern_client_v10.10.3.py` 存在
- [ ] `client/encryption.py` 存在
- [ ] `rpa/rpa_controller.py` 存在

---

## 🔧 第二部分：Git仓库检查

### Git状态
```bash
cd /home/user/projects/price-suite
git status
```

**验证项：**
- [ ] `git status` 命令正常执行
- [ ] 没有报错信息
- [ ] 显示当前分支（main 或 master）

### 远程仓库
```bash
git remote -v
```

**验证项：**
- [ ] 显示远程仓库地址
- [ ] 地址是 https://github.com/zhiqiangsun2025-droid/price-suite.git 或你的仓库
- [ ] 有 origin (fetch) 和 origin (push)

### 提交历史
```bash
git log --oneline -5
```

**验证项：**
- [ ] 可以看到提交历史
- [ ] 提交记录完整（没有丢失）

---

## 🐍 第三部分：Python环境检查

### 虚拟环境（服务器端）
```bash
cd /home/user/projects/price-suite/server
source venv/bin/activate
```

**验证项：**
- [ ] `venv/` 目录存在
- [ ] 可以成功激活虚拟环境
- [ ] 命令提示符显示 `(venv)`

### Python版本
```bash
python --version
```

**验证项：**
- [ ] Python版本 >= 3.8
- [ ] 输出类似：`Python 3.8.10` 或更高

### 依赖包检查
```bash
pip list
```

**验证项：**
- [ ] 安装了 Flask
- [ ] 安装了 selenium
- [ ] 安装了 jieba
- [ ] 安装了 scikit-learn
- [ ] 安装了 opencv-python
- [ ] 安装了 imagehash

### 快速测试
```bash
python -c "import flask; print('Flask OK')"
python -c "import selenium; print('Selenium OK')"
python -c "import jieba; print('Jieba OK')"
```

**验证项：**
- [ ] 所有导入都成功
- [ ] 没有报错信息

---

## 🚀 第四部分：服务器功能检查

### 启动服务器
```bash
cd /home/user/projects/price-suite/server
source venv/bin/activate
python app.py
```

**验证项：**
- [ ] 服务器成功启动
- [ ] 没有报错信息
- [ ] 显示类似：`Running on http://127.0.0.1:5000`

### 访问测试
在另一个终端或浏览器中：
```bash
# 命令行测试
curl http://localhost:5000/

# 或在浏览器中访问
# http://localhost:5000
```

**验证项：**
- [ ] 可以访问服务器
- [ ] 返回正常响应（不是404或500错误）

### 管理后台
```bash
# 在浏览器中访问
# http://localhost:5000/admin/login
```

**验证项：**
- [ ] 管理后台页面可以打开
- [ ] 页面显示正常（有登录表单）

---

## 💻 第五部分：Cursor工作区检查

### 打开项目
```bash
cursor /home/user/projects/price-suite
```

**验证项：**
- [ ] Cursor成功打开
- [ ] 左侧文件树显示 `price-suite` 为根目录
- [ ] 可以看到 `server/`、`client/`、`rpa/` 文件夹

### 终端路径
在Cursor中打开终端（Ctrl + `），检查路径：
```bash
pwd
```

**验证项：**
- [ ] 显示：`/home/user/projects/price-suite`
- [ ] **不是** `/home/user/projects/shopxo-master`

### 文件搜索
在Cursor中按 `Ctrl+P`，搜索 `app.py`

**验证项：**
- [ ] 可以找到 `server/app.py`
- [ ] 搜索结果路径正确

### AI助手测试
在Cursor中问AI：
> "这个项目是什么？使用什么技术栈？"

**验证项：**
- [ ] AI回答提到 "Price-Suite" 或 "智能选品"
- [ ] AI提到 "Python"、"Flask"
- [ ] AI **没有**提到 "ShopXO"、"PHP"、"ThinkPHP"

---

## 🎨 第六部分：配置文件检查

### .vscode/settings.json
```bash
cat /home/user/projects/price-suite/.vscode/settings.json
```

**验证项：**
- [ ] 文件存在
- [ ] `python.defaultInterpreterPath` 指向 `server/venv/bin/python`
- [ ] JSON格式正确

### .gitignore
```bash
cat /home/user/projects/price-suite/.gitignore
```

**验证项：**
- [ ] 文件存在
- [ ] 包含 `__pycache__/`
- [ ] 包含 `venv/`
- [ ] 包含 `*.log`

---

## 🔄 第七部分：旧目录清理检查

### 检查旧目录是否还在
```bash
ls -la /home/user/projects/shopxo-master/apps/
```

**决定：**
- [ ] 如果新项目一切正常，旧目录可以删除
- [ ] 或者先保留作为备份，重命名为 `price-suite.old`

### 删除旧目录（可选）
```bash
# 谨慎操作！确保新项目完全正常后再执行
rm -rf /home/user/projects/shopxo-master/apps/price-suite
```

**验证项：**
- [ ] 已删除旧目录（如果你选择删除）
- [ ] 或保留了备份

---

## 📦 第八部分：功能完整性检查

### 客户端文件
```bash
ls -la /home/user/projects/price-suite/client/
```

**验证项：**
- [ ] `modern_client_v10.10.3.py` 存在
- [ ] `build_windows.bat` 存在
- [ ] `requirements_modern.txt` 存在

### RPA文件
```bash
ls -la /home/user/projects/price-suite/rpa/
```

**验证项：**
- [ ] `rpa_controller.py` 存在
- [ ] `templates/` 目录存在
- [ ] `requirements.txt` 存在

### 文档完整性
```bash
ls -la /home/user/projects/price-suite/*.md
```

**验证项：**
- [ ] `README.md` 存在
- [ ] `FINAL_ARCHITECTURE.md` 存在
- [ ] `DEPLOY.md` 存在
- [ ] `SECURITY_GUIDE.md` 存在
- [ ] `技术问答汇总.md` 存在

---

## 🔍 第九部分：深度测试（可选）

### 测试服务器API
```bash
# 确保服务器正在运行
cd /home/user/projects/price-suite/server
source venv/bin/activate
python app.py &

# 在另一个终端测试
curl -X POST http://localhost:5000/api/test \
  -H "Content-Type: application/json" \
  -d '{"test": "data"}'
```

**验证项：**
- [ ] API正常响应
- [ ] 没有500错误

### 测试数据库
```bash
cd /home/user/projects/price-suite/server
ls -la authorization.db
```

**验证项：**
- [ ] 数据库文件存在（或会自动创建）
- [ ] 可以访问（没有权限问题）

### 测试客户端打包（Windows环境）
```batch
cd C:\path\to\price-suite\client
build_windows.bat
```

**验证项：**
- [ ] 打包脚本可以运行
- [ ] 生成exe文件在 `dist/` 目录

---

## 📊 总结

### 统计
```
总验证项：_____ 项
已完成：_____ 项
通过率：_____ %
```

### 状态判断

#### ✅ 如果通过率 >= 90%
**恭喜！迁移成功！**

你现在可以：
1. 专注于Price-Suite的开发
2. 删除或保留旧目录作为备份
3. 开始使用独立工作区

#### ⚠️ 如果通过率 60-89%
**基本成功，但有些问题需要解决**

建议：
1. 检查未通过的项目
2. 查看错误日志
3. 参考 `项目独立迁移指南.md` 重新配置

#### ❌ 如果通过率 < 60%
**迁移可能失败，建议回滚**

操作：
1. 停止所有进程
2. 从备份恢复：
   ```bash
   rm -rf /home/user/projects/price-suite
   cp -r ~/backups/price-suite-backup-* /home/user/projects/price-suite
   ```
3. 重新阅读文档，逐步手动迁移

---

## 📞 遇到问题？

### 常见问题排查

#### 问题1：Git仓库异常
```bash
# 解决方案
cd /home/user/projects/price-suite
rm -rf .git
git init
git remote add origin <你的仓库地址>
git add .
git commit -m "迁移后重新初始化"
```

#### 问题2：虚拟环境无法激活
```bash
# 解决方案
cd /home/user/projects/price-suite/server
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

#### 问题3：服务器启动失败
```bash
# 查看错误日志
cd /home/user/projects/price-suite/server
cat app.log

# 检查端口占用
lsof -i :5000
```

#### 问题4：Cursor打开错误的目录
```bash
# 完全退出Cursor
# 然后重新打开
cursor /home/user/projects/price-suite
```

---

## 🎯 下一步行动

迁移验证全部通过后：

- [ ] 更新文档中的路径引用
- [ ] 配置CI/CD（GitHub Actions）
- [ ] 通知团队成员（如果有）
- [ ] 开始新功能开发

---

## 📝 验证记录

**迁移日期**：____________  
**验证人**：____________  
**通过项数**：______ / 总项数  
**状态**：✅ 成功 / ⚠️ 部分成功 / ❌ 失败  

**备注**：
```
在此记录遇到的问题和解决方案



```

---

**完成此清单，确保迁移万无一失！** ✨

